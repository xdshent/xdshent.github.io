---
layout:     post
title:      "简单工厂模式"
date:       2021-03-10
author:     "xdshent"
catalog: true
tags:
    - 设计模式
---

## 定义

也叫静态工厂方法, 有一个具体的工厂类, 可以生成多个不同的产品



## 应用场景

对于产品品类较少的情况, 无需关心如何创建对象的逻辑



## UML

![](/img/assets/java-design-pattern/factory/simple-factory.png)



## Java代码

```java
public class SimpleFactoryClient {

    public static void main(String[] args) {
        SimpleFactory.makeProduct(Const.PRODUCT_A).doSomething();
    }

    /**
     * 抽象产品
     */
    public interface Product{
        /**
         * 具体操作
         */
        void doSomething();
    }

    static class ConcreteProductA implements Product{

        @Override
        public void doSomething() {
            System.out.println("我是产品A");
        }
    }

    static class ConcreteProductB implements Product{

        @Override
        public void doSomething() {
            System.out.println("我是产品B");
        }
    }

    static class ConcreteProductC implements Product{

        @Override
        public void doSomething() {
            System.out.println("我是产品C");
        }
    }

    final static class Const{
        static final int PRODUCT_A = 0;
        static final int PRODUCT_B = 1;
        static final int PRODUCT_C = 2;
    }
    /**
     * 简单工厂类
     */
    static class SimpleFactory{
        public static Product makeProduct(int kind){
            switch (kind){
                case Const.PRODUCT_A:
                return new ConcreteProductA();
                case Const.PRODUCT_B:
                    return new ConcreteProductB();
                case Const.PRODUCT_C:
                    return new ConcreteProductC();
                default:
                    return null;
            }
        }
    }
}
```



## JDK中的应用

### Calendar#getInstance

![](/img/assets/java-design-pattern/factory/calendar-1.png)



![](/img/assets/java-design-pattern/factory/calendar-2.png)





### Logback

* LoggerFactory.getLogger(String name): Logger
* LoggerFactory.getLogger(Class<?> clazz): Logger



## 优缺点

* 结构简单, 调用方便
* 当产品品类增加时, 工厂类代码会非常臃肿, 违背高聚合原则