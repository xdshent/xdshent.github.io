---
layout:     post
title:      "适配器模式"
date:       2021-03-12
author:     "xdshent"
catalog: true
tags:
    - 设计模式
---

## 定义

将一个接口变成客户端期望的另一个接口



## 应用场景

* 已经存在的类, 方法和需求不匹配



## UML

![](/img/assets/java-design-pattern/adapter/adapter.png)



## Java代码

```java
public class AdapterClient {

    public static void main(String[] args) {
        DC5 dc5 = new PowerAdapter();
        dc5.output5V();
    }

    static class AC220{
        public int output220V(){
            System.out.println("输出电压220V");
            return 220;
        }
    }

    interface DC5{
        int output5V();
    }

    static class PowerAdapter extends AC220 implements DC5{

        @Override
        public int output5V() {

            int adapterInput = super.output220V();
            int adapterOutput = adapterInput/4;

            System.out.println("使用Adapter输入: "+adapterInput+", 输出: "+adapterOutput);
            return adapterOutput;
        }
    }
}
```



## 在Spring中的应用

* AdvisorAdapter
  * MethodBeforeAdviceAdapter
  * AfterReturningAdviceAdapter
  * ThrowsAdviceAdapter
* SpringMVC

![](/img/assets/java-design-pattern/adapter/handler-adapter.png)



## 优缺点

* 提高类的透明性和复用
* 适配器类和原角色解耦
* 复合开闭原则
* 需要结合业务场景全面考虑, 增加系统复杂性
* 过多使用会变凌乱